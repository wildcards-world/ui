// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE

import * as React from "react";
import * as ReactApollo from "react-apollo";
import * as Layout$WildCards from "./components/Layout.bs.js";
import * as Globals$WildCards from "./harberger-lib/Globals.bs.js";
import * as ReasonReactRouter from "reason-react/src/ReasonReactRouter.js";
import * as ReactHooks from "@apollo/react-hooks";
import * as WildcardsProvider$WildCards from "./harberger-lib/components/WildcardsProvider.bs.js";

function SsrEntryPoint$Router(Props) {
  var url = ReasonReactRouter.useUrl(undefined, undefined);
  var match = url.path;
  if (match) {
    if (match[1]) {
      return React.createElement(Layout$WildCards.make, { });
    } else {
      return React.createElement("p", undefined, "Unknown page");
    }
  } else {
    return React.createElement(Layout$WildCards.make, { });
  }
}

var Router = {
  make: SsrEntryPoint$Router
};

function SsrEntryPoint$ApolloProvider(Props) {
  var children = Props.children;
  var client = Props.client;
  return React.createElement(ReactApollo.ApolloProvider, {
              client: client,
              children: React.createElement(ReactHooks.ApolloProvider, {
                    client: client,
                    children: children
                  })
            });
}

var ApolloProvider = {
  make: SsrEntryPoint$ApolloProvider
};

function SsrEntryPoint(Props) {
  return React.createElement(WildcardsProvider$WildCards.make, {
              getGraphEndpoints: (function (networkId, param) {
                  if (networkId !== 5) {
                    return {
                            mainnet: Globals$WildCards.$pipe$pipe$pipe$pipe(process.env.REACT_APP_MAINNET_BE, "https://api.wildcards.world/v1/graphql"),
                            matic: "https://mumbai.graph.wildcards.world/subgraphs/name/wildcards-world/wildcards-matic/graphql",
                            ws: "wss://api.thegraph.com/subgraphs/name/wildcards-world/wildcards"
                          };
                  } else {
                    return {
                            mainnet: Globals$WildCards.$pipe$pipe$pipe$pipe(process.env.REACT_APP_GOERLI_BE, "https://goerli.api.wildcards.world/v1/graphq"),
                            matic: "https://mumbai.graph.wildcards.world/subgraphs/name/wildcards-world/wildcards-matic/graphql",
                            ws: "wss://api.thegraph.com/subgraphs/name/wildcards-world/wildcards-goerli"
                          };
                  }
                }),
              children: React.createElement(SsrEntryPoint$Router, { })
            });
}

var make = SsrEntryPoint;

export {
  Router ,
  ApolloProvider ,
  make ,
  
}
/* react Not a pure module */
